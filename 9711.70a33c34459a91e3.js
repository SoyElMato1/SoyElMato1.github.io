"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9711],{9711:(R,f,c)=>{c.r(f),c.d(f,{ProveedorPageModule:()=>y});var p=c(177),l=c(4341),d=c(4742),g=c(6766),m=c(5964),o=c(3953),v=c(8513),h=c(1626),P=c(3114);function b(e,n){if(1&e&&o.nrm(0,"img",41),2&e){const t=o.XpG().$implicit;o.Y8G("src","http://54.226.43.136:8000"+t.foto,o.B4B)}}function _(e,n){1&e&&o.nrm(0,"img",42)}function F(e,n){if(1&e&&(o.qex(0),o.EFF(1),o.bVm()),2&e){const t=o.XpG().$implicit;o.R7$(),o.SpI(" ",t.direccion," ")}}function M(e,n){1&e&&(o.j41(0,"span",43),o.EFF(1,"Direcci\xf3n no disponible"),o.k0s())}function x(e,n){if(1&e){const t=o.RV6();o.j41(0,"ion-col",32)(1,"div",33),o.DNE(2,b,1,1,"img",34)(3,_,1,0,"img",35),o.j41(4,"div",36)(5,"h5"),o.EFF(6),o.k0s(),o.j41(7,"p"),o.EFF(8),o.k0s(),o.j41(9,"p",37),o.DNE(10,F,2,1,"ng-container",38)(11,M,2,0,"ng-template",null,0,o.C5r),o.k0s(),o.j41(13,"div",39)(14,"button",40),o.bIt("click",function(){const i=o.eBV(t).$implicit,a=o.XpG();return o.Njj(a.verProductosProveedor(i.rut,i.nombre))}),o.EFF(15,"Ver Productos"),o.k0s()()()()()}if(2&e){const t=n.$implicit,r=o.sdS(12);o.R7$(2),o.Y8G("ngIf",t.foto),o.R7$(),o.Y8G("ngIf",!t.foto),o.R7$(3),o.Lme("",t.nombre," ",t.apellido,""),o.R7$(2),o.JRh(t.correo_electronico),o.R7$(2),o.Y8G("ngIf",t.direccion)("ngIfElse",r)}}function C(e,n){if(1&e&&o.nrm(0,"img",55),2&e){const t=o.XpG().$implicit;o.Y8G("src","http://localhost:8000/"+t.imagen_producto,o.B4B)}}function k(e,n){1&e&&o.nrm(0,"img",56)}function O(e,n){if(1&e&&(o.j41(0,"div",50)(1,"div",51),o.DNE(2,C,1,1,"img",52)(3,k,1,0,"img",53),o.j41(4,"div",54)(5,"h5"),o.EFF(6),o.k0s(),o.j41(7,"p"),o.EFF(8),o.k0s()()()()),2&e){const t=n.$implicit;o.R7$(2),o.Y8G("ngIf",t.imagen_producto),o.R7$(),o.Y8G("ngIf",!t.imagen_producto),o.R7$(3),o.JRh(t.nombre_producto),o.R7$(2),o.SpI("$",t.precio,"")}}function j(e,n){if(1&e){const t=o.RV6();o.j41(0,"div",44)(1,"h2",45),o.EFF(2,"Productos del Proveedor"),o.k0s(),o.j41(3,"h4",46),o.EFF(4),o.k0s(),o.j41(5,"div",47),o.DNE(6,O,9,4,"div",48),o.k0s(),o.j41(7,"button",49),o.bIt("click",function(){o.eBV(t);const i=o.XpG();return o.Njj(i.cerrarModal())}),o.EFF(8,"Cerrar"),o.k0s()()}if(2&e){const t=o.XpG();o.R7$(4),o.JRh(t.nombreProveedorSeleccionado),o.R7$(2),o.Y8G("ngForOf",t.productos)}}function w(e,n){if(1&e&&(o.j41(0,"div",57)(1,"strong"),o.EFF(2,"Lo sentimos"),o.k0s(),o.EFF(3),o.k0s()),2&e){const t=o.XpG();o.R7$(3),o.SpI(", pero el proveedor ",t.nombreProveedorSeleccionado," no ha destacado ning\xfan producto. ")}}const E=[{path:"",component:(()=>{var e;class n{constructor(r,i,a,s){this.proveedorService=r,this.router=i,this.http=a,this.productoService=s,this.productos=[],this.proveedores=[],this.showSearchBar=!1,this.proveedoresFiltrados=[],this.mostrarModal=!1,this.mostrarAlerta=!1,this.nombreProveedorSeleccionado="",this.proveedoresDestacados=[{rut:"12345678-9",nombre:"Proveedor Ejemplo 1",calificacion:4.8,descripcion:"Descripci\xf3n breve del proveedor...",foto:"https://www.example.com/foto1.jpg"},{rut:"87654321-0",nombre:"Proveedor Ejemplo 2",calificacion:4.5,descripcion:"Descripci\xf3n breve del proveedor...",foto:"http://localhost:8000/proveedor_images/ejemplo2.jpg"}]}ngOnInit(){this.getProveedores(),this.router.events.pipe((0,m.p)(r=>r instanceof g.wF)).subscribe(()=>{this.getProveedores()})}getProveedores(){this.proveedorService.getProveedores().subscribe(r=>{this.proveedoresFiltrados=r})}verProductosProveedor(r,i){this.productoService.getProductosByProveedor(r).subscribe(a=>{this.productos=a.slice(0,3),this.nombreProveedorSeleccionado=i,0===this.productos.length?(this.mostrarAlerta=!0,setTimeout(()=>{this.mostrarAlerta=!1},5e3)):this.mostrarModal=!0},a=>{console.error("Error al obtener productos del proveedor",a)})}cerrarModal(){this.mostrarModal=!1,this.productos=[]}toggleSearchBar(){this.showSearchBar=!this.showSearchBar}onSearch(r){const i=r.target.value.trim().toLowerCase();if(""===i)return void(this.proveedoresFiltrados=this.proveedores);const a=i.split(/\s+/);this.proveedoresFiltrados=this.proveedores.filter(s=>a.every(u=>s.nombre.toLowerCase().includes(u)||s.apellido.toLowerCase().includes(u)))}navigateToLogin(){this.router.navigate(["/login"])}}return(e=n).\u0275fac=function(r){return new(r||e)(o.rXU(v.m),o.rXU(g.Ix),o.rXU(h.Qq),o.rXU(P.P))},e.\u0275cmp=o.VBU({type:e,selectors:[["app-proveedor"]],decls:52,vars:4,consts:[["direccionNoDisponible",""],[3,"fullscreen"],[1,"bigimage"],[1,"navbar","navbar-expand-lg","bg-body-tertiary"],[1,"container-fluid"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page","href","#",1,"nav-link","active"],[1,"nav-item","dropdown"],["href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],[1,"dropdown-menu"],["href","#",1,"dropdown-item"],["role","search",1,"d-flex"],["type","search","placeholder","Buscar","aria-label","Search",1,"form-control","me-2",3,"ionInput"],["type","submit",1,"btn","btn-outline-success"],[1,"text-center","container",2,"color","black"],[1,"ion-justify-content-center","py-4"],["size-md","8","size-sm","12",1,"ion-text-center"],["src","../../../../assets/images/logo.png","alt","Logo",1,"img-fluid","mb-4"],[1,"fw-light"],[1,"lead","text-secondary"],[1,"container"],[1,"row","row-cols-1","row-cols-sm-2","row-cols-md-3","g-3"],["size","12","size-md","6","size-lg","4",4,"ngFor","ngForOf"],["class","modal-container bg-body-secondary rounded-4 shadow p-4","style","z-index: 1050; color: black;",4,"ngIf"],["class","alert alert-warning","role","alert","style","z-index: 1050;",4,"ngIf"],[1,"footer"],[1,"float-end"],["href","#",1,"back-to-top"],[1,"footer-text"],["href","#"],["size","12","size-md","6","size-lg","4"],[1,"card","shadow-sm"],["class","bd-placeholder-img card-img-top","alt","Foto del proveedor","width","200","height","200",3,"src",4,"ngIf"],["src","assets/images/descarga.jpeg","class","bd-placeholder-img card-img-top","alt","Imagen por defecto","width","200","height","200",4,"ngIf"],[1,"card-body"],[1,"card-text"],[4,"ngIf","ngIfElse"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-primary",3,"click"],["alt","Foto del proveedor","width","200","height","200",1,"bd-placeholder-img","card-img-top",3,"src"],["src","assets/images/descarga.jpeg","alt","Imagen por defecto","width","200","height","200",1,"bd-placeholder-img","card-img-top"],[1,"text-muted"],[1,"modal-container","bg-body-secondary","rounded-4","shadow","p-4",2,"z-index","1050","color","black"],[1,"fw-bold","mb-3"],[2,"color","black","text-align","center"],[1,"row","row-cols-1","row-cols-sm-2","g-3"],["class","col",4,"ngFor","ngForOf"],[1,"btn","btn-lg","btn-primary","mt-3","w-100",3,"click"],[1,"col"],[1,"producto-item"],["class","producto-img","alt","Foto del producto","width","200","height","200",3,"src",4,"ngIf"],["src","assets/images/descarga.jpeg","class","producto-img","alt","Imagen por defecto",4,"ngIf"],[1,"producto-info"],["alt","Foto del producto","width","200","height","200",1,"producto-img",3,"src"],["src","assets/images/descarga.jpeg","alt","Imagen por defecto",1,"producto-img"],["role","alert",1,"alert","alert-warning",2,"z-index","1050"]],template:function(r,i){1&r&&(o.j41(0,"ion-content",1)(1,"main",2)(2,"nav",3)(3,"div",4)(4,"div",5)(5,"ul",6)(6,"li",7)(7,"a",8),o.EFF(8,"Categor\xedas"),o.k0s()(),o.j41(9,"li",9)(10,"a",10),o.EFF(11," Filtro "),o.k0s(),o.j41(12,"ul",11)(13,"li")(14,"a",12),o.EFF(15,"M\xe1s Populares"),o.k0s()(),o.j41(16,"li")(17,"a",12),o.EFF(18,"Mejor Calificaci\xf3n"),o.k0s()()()()(),o.j41(19,"form",13)(20,"ion-input",14),o.bIt("ionInput",function(s){return i.onSearch(s)}),o.k0s(),o.j41(21,"button",15),o.EFF(22,"Buscar"),o.k0s()()()()(),o.j41(23,"section",16)(24,"ion-grid")(25,"ion-row",17)(26,"ion-col",18),o.nrm(27,"img",19),o.j41(28,"h1",20),o.EFF(29,"Proveedores Destacados"),o.k0s(),o.j41(30,"p",21),o.EFF(31,"ESTE APARTADO ESTARA PROXIMAMENTE DISPONIBLE"),o.k0s()()()()(),o.j41(32,"div",22)(33,"div",23),o.DNE(34,x,16,7,"ion-col",24),o.k0s()(),o.DNE(35,j,9,2,"div",25)(36,w,4,1,"div",26),o.k0s(),o.j41(37,"footer",27)(38,"div",22)(39,"p",28)(40,"a",29),o.EFF(41,"Volver arriba"),o.k0s()(),o.j41(42,"p",30),o.EFF(43," \xa9 2024 "),o.j41(44,"strong"),o.EFF(45,"GreenMarket"),o.k0s(),o.EFF(46," Portafolio. "),o.j41(47,"a",31),o.EFF(48,"Privacidad"),o.k0s(),o.EFF(49," \xb7 "),o.j41(50,"a",31),o.EFF(51,"T\xe9rminos"),o.k0s()()()()()),2&r&&(o.Y8G("fullscreen",!0),o.R7$(34),o.Y8G("ngForOf",i.proveedoresFiltrados),o.R7$(),o.Y8G("ngIf",i.mostrarModal&&i.productos&&i.productos.length>0),o.R7$(),o.Y8G("ngIf",i.mostrarAlerta))},dependencies:[p.Sq,p.bT,l.qT,l.cb,l.cV,d.hU,d.W9,d.lO,d.$w,d.ln,d.Gw],styles:['@charset "UTF-8";.container-fluid[_ngcontent-%COMP%]{font-weight:900;font-size:20px}.card[_ngcontent-%COMP%]{margin-bottom:1.5rem}.boton[_ngcontent-%COMP%]{color:#a0d683;background-color:#a0d683}.card-body[_ngcontent-%COMP%]{background-color:#72bf78;color:#000;font-weight:700}footer[_ngcontent-%COMP%]{background-color:#343a40;color:#fff;padding:1.5rem 0}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:underline}.btn-primary[_ngcontent-%COMP%]{background-color:#a0d683;border-color:#a0d683;color:#000}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#feff9f;border-color:#feff9f}.btn-outline-secondary[_ngcontent-%COMP%]{color:#000;border-color:#333}.btn-outline-secondary[_ngcontent-%COMP%]:hover{background-color:#feff9f;color:#000;border-color:#feff9f}.rating[_ngcontent-%COMP%]{display:inline-block}.rating[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.rating[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{float:right;cursor:pointer;color:#ccc;transition:color .3s}.rating[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:before{content:"\\2605";font-size:30px}.rating[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%], .rating[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover, .rating[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover ~ label[_ngcontent-%COMP%]{color:#feff9f;transition:color .3s}.bigimage[_ngcontent-%COMP%]{width:100%;min-height:100vh;background:#f5f5f5;background-repeat:repeat;background-position:center center;background-size:cover;background-attachment:scroll;top:0;left:0}.modal-container[_ngcontent-%COMP%]{position:fixed;top:0;right:0;width:400px;height:100%;background-color:#fff;box-shadow:0 0 15px #0000001a;padding:20px;z-index:1050;border-radius:10px 0 0 10px;overflow-y:auto}.producto-item[_ngcontent-%COMP%]{margin-bottom:20px}.producto-img[_ngcontent-%COMP%]{object-fit:cover;height:200px;width:100%}.producto-info[_ngcontent-%COMP%]{padding:10px 0;text-align:center}.producto-info[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin-bottom:10px}button[_ngcontent-%COMP%]{margin-top:20px}.alert[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;width:300px;padding:15px;background-color:#f8d7da;border-color:#f5c6cb;color:#721c24;font-size:16px;border-radius:10px;box-shadow:0 4px 6px #0000001a}.footer[_ngcontent-%COMP%]{background:#72bf78;color:#000;text-align:center;padding:20px 0;box-shadow:0 -4px 10px #0000001a}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#feff9f;text-decoration:none;font-weight:700}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.footer-text[_ngcontent-%COMP%]{font-size:14px;margin:0}.footer[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#a0d683}.back-to-top[_ngcontent-%COMP%]{background-color:#a0d683;color:#000;padding:8px 12px;border-radius:5px;font-size:12px;font-weight:700;text-decoration:none;transition:all .3s}.back-to-top[_ngcontent-%COMP%]:hover{background-color:#feff9f;color:#000}']}),n})()}];let I=(()=>{var e;class n{}return(e=n).\u0275fac=function(r){return new(r||e)},e.\u0275mod=o.$C({type:e}),e.\u0275inj=o.G2t({imports:[g.iI.forChild(E),g.iI]}),n})(),y=(()=>{var e;class n{}return(e=n).\u0275fac=function(r){return new(r||e)},e.\u0275mod=o.$C({type:e}),e.\u0275inj=o.G2t({imports:[p.MD,l.YN,d.bv,I]}),n})()}}]);